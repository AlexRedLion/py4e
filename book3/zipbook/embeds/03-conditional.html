<!DOCTYPE html>
<head>
  <!--<script type="text/javascript" src="https://trinket.io/js/trinket.js"></script>-->
  <link rel="stylesheet" href="trinket/base.css" type="text/css" />
  <link rel="stylesheet" href="trinket/trinket.css" type="text/css" />
  <link rel="stylesheet" href="trinket/font-awesome.min.css" type="text/css" />
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <style>
  /*Temporary Fix for Font Awesome ApplicatonManifest offline Cache */
  @font-face {
       font-family: 'FontAwesome';
       src: url('../fonts/fontawesome-webfont.eot');
       src: url('../fonts/fontawesome-webfont.eot') format('embedded-opentype'),       url('../fonts/fontawesome-webfont.woff2') format('woff2'), url('../fonts/fontawesome-webfont.woff') format('woff'), url('../fonts/fontawesome-webfont.ttf') format('truetype'), url('../fonts/fontawesome-webfont.svg') format('svg');
         font-weight: normal;
         font-style: normal;
  }
  </style>
</head>
<body class="loggedout">
  <div class="main-content">
    <div class="nav-wrapper">
      <nav class="top-bar" data-topbar data-topbar data-options="is_hover: false">
        <ul class="title-area">
          <li class="name">
            <a href="/">
              <img src="https://trinket.io/img/trinket-logo.png" alt="Hosted by Trinket" />
            </a>
          </li>
          <li class="toggle-topbar menu-icon"><a href="#"><span></span></a></li>
        </ul>
        <section class="top-bar-section">
          <ul class="right">
            <li><a href="http://pythonlearn.com"><i class="fa fa-star"></i> PythonLearn</a></li>
            <li><a href="https://trinket.io"><i class="fa fa-star"></i> Trinket</a></li>
            <li><a href="https://hourofpython.com"><i class="fa fa-graduation-cap"></i> Hour of Python</a></li>
          </ul>
        </section>
      </nav>
    </div>
    <div class="booktoc sticky">
      <nav class="top-bar" data-topbar="" role="navigation">
        <ul class="title-area">
          <li class="name">
            <h1 class="no-anchor"><a href="#">Python for Everyone</a></h1>
          </li>
          <li class="toggle-topbar"><a href="#"><span>Menu</span></a></li>
        </ul>
        <section class="top-bar-section">
          <ul class="left">
            <li class="has-dropdown not-click">
              <a href="#">Chapters</a>
              <ul class="dropdown">
                <li class="title back js-generated">
                  <h5><a href="javascript:void(0)">Back</a></h5></li>
                <li class="parent-link hide-for-medium-up"><a class="parent-link js-generated" href="#">Chapters</a></li>
                <li><a href="index.html">See All Chapters</a></li>
                <li><a href="01-intro.html">Chapter 1: Introduction</a></li>
                <li><a href="02-variables.html">Chapter 2: Variables</a></li>
                <li><a href="03-conditional.html">Chapter 3: Conditionals</a></li>
                <li><a href="04-functions.html">Chapter 4: Functions</a></li>
                <li><a href="05-iterations.html">Chapter 5: Iterations</a></li>
                <li><a href="06-strings.html">Chapter 6: Strings</a></li>
                <li><a href="07-files.html">Chapter 7: Files</a></li>
                <li><a href="08-lists.html">Chapter 8: Lists</a></li>
                <li><a href="09-dictionaries.html">Chapter 9: Dictionaries</a></li>
                <li><a href="10-tuples.html">Chapter 10: Tuples</a></li>
                <li><a href="11-regex.html">Chapter 11: Regex</a></li>
                <li><a href="12-network.html">Chapter 12: Networked Programs</a></li>
                <li><a href="13-web.html">Chapter 13: Python and Web Services</a></li>
                <li><a href="14-objects.html">Chapter 14: Object Orientation</a></li>
                <li><a href="15-database.html">Chapter 15: Python and Databases</a></li>
                <li><a href="16-viz.html">Chapter 16: Data Vizualization</a></li>
              </ul>
            </li>
          </ul>
        </section>
      </nav>
    </div>
    <div class="bookchapter">
      <div class="row">
        <div class="columns small-12">
<h1 id="ejecución-condicional">Ejecución condicional</h1>
<h2 id="expresiones-booleanas">Expresiones booleanas</h2>
<p>   </p>
<p>Una <em>expresión booleana</em> es aquella que puede ser verdadera (<code>True</code>) o falsa (<code>False</code>). Los ejemplos siguientes usan el operador <code>==</code>, que compara dos operandos y devuelve <code>True</code> si son iguales y <code>False</code> en caso contrario:</p>
<script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/python3?runMode=console&outputOnly=true#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script>
<iframe width="100%" height="200" frameborder="0" marginwidth="0" marginheight="0" allowfullscreen class="lazy lazyload">
</iframe>
<!--
>>> 5 == 5
True
>>> 5 == 6
False
-->
<p><code>True</code> y <code>False</code> son valores especiales que pertenecen al tipo <code>bool (booleano)</code>; no son cadenas:</p>
<p>     </p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> <span class="bu">type</span>(<span class="va">True</span>)
<span class="op">&lt;</span><span class="kw">class</span> <span class="st">&#39;bool&#39;</span><span class="op">&gt;</span>
<span class="op">&gt;&gt;&gt;</span> <span class="bu">type</span>(<span class="va">False</span>)
<span class="op">&lt;</span><span class="kw">class</span> <span class="st">&#39;bool&#39;</span><span class="op">&gt;</span></code></pre></div>
<p>El operador <code>==</code> es uno de los <em>operadores de comparación</em>; los demás son:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">x <span class="op">!=</span> y               <span class="co"># x es distinto de y</span>
x <span class="op">&gt;</span> y                <span class="co"># x es mayor que y</span>
x <span class="op">&lt;</span> y                <span class="co"># x es menor que y</span>
x <span class="op">&gt;=</span> y               <span class="co"># x es mayor o igual que y</span>
x <span class="op">&lt;=</span> y               <span class="co"># x es menor o igual que y</span>
x <span class="kw">is</span> y               <span class="co"># x es lo mismo que y</span>
x <span class="kw">is</span> <span class="kw">not</span> y           <span class="co"># x no es lo mismo que y</span></code></pre></div>
<p>A pesar de que estas operaciones probablemente te resulten familiares, los símbolos en Python son diferentes de los símbolos matemáticos que se usan para realizar las mismas operaciones. Un error muy común es usar sólo un símbolo igual (<code>=</code>) en vez del símbolo de doble igualdad (<code>==</code>). Recuerda que <code>=</code> es un operador de asignación, y <code>==</code> es un operador de comparación. No existe algo como <code>=&lt;</code> o <code>=&gt;</code>.</p>
<p> </p>
<h2 id="operadores-lógicos">Operadores lógicos</h2>
<p> </p>
<p>Existen tres <em>operadores lógicos</em>: <code>and (y)</code>, <code>or (o)</code>, y <code>not (no)</code>. El significado semántico de estas operaciones es similar a su significado en inglés. Por ejemplo,</p>
<p><code>x &gt; 0 and x &lt; 10</code></p>
<p>es verdadero sólo cuando <code>x</code> es mayor que 0 <em>y</em> menor que 10.</p>
<p>     </p>
<p><code>n%2 == 0 or n%3 == 0</code> es verdadero si <em>cualquiera</em> de las condiciones es verdadera, es decir, si el número es divisible por 2 <em>o</em> por 3.</p>
<p>Finalmente, el operador <code>not</code> niega una expresión booleana, de modo que <code>not (x &gt; y)</code> es verdadero si <code>x &gt; y</code> es falso; es decir, si <code>x</code> es menor o igual que <code>y</code>.</p>
<p>Estrictamente hablando, los operandos de los operadores lógicos deberían ser expresiones booleanas, pero Python no es muy estricto. Cualquier número distinto de cero se interpreta como &quot;verdadero.&quot;</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> <span class="dv">17</span> <span class="kw">and</span> <span class="va">True</span>
<span class="va">True</span></code></pre></div>
<p>Esta flexibilidad puede ser útil, pero existen ciertas sutilezas en ese tipo de uso que pueden resultar confusas. Es posible que prefieras evitar usarlo de este modo hasta que estés bien seguro de lo que estás haciendo.</p>
<h2 id="ejecución-condicional-1">Ejecución condicional</h2>
<p>    </p>
<p>Para poder escribir programas útiles, casi siempre vamos a necesitar la capacidad de comprobar condiciones y cambiar el comportamiento del programa de acuerdo a ellas. Las <code>sentencias condicionales</code> nos proporcionan esa capacidad. La forma más sencilla es la sentencia <code>if</code>:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="cf">if</span> x <span class="op">&gt;</span> <span class="dv">0</span> :
    <span class="bu">print</span>(<span class="st">&#39;x es positivo&#39;</span>)</code></pre></div>
<p>La expresión booleana después de la sentencia <code>if</code> recibe el nombre de <em>condición</em>. La sentencia <code>if</code> se finaliza con un carácter de dos-puntos (:) y la(s) línea(s) que van detrás de la sentencia if van indentadas<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a> (es decir, llevan una tabulación o varios espacios en blanco al principio).</p>
<div class="figure">
<img src="../images/if.svg" alt="If Logic" />
<p class="caption">If Logic</p>
</div>
<p>Si la condición lógica es verdadera, la sentencia indentada será ejecutada. Si la condición es falsa, la sentencia indentada será omitida.</p>
<p>  </p>
<p>La sentencia <code>if</code> tiene la misma estructura que la definición de funciones o los bucles <code>for</code><a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a>. La sentencia consiste en una línea de encabezado que termina con el carácter dos-puntos (:) seguido por un bloque indentado. Las sentencias de este tipo reciben el nombre de <em>sentencias compuestas</em>, porque se extienden a lo largo de varias líneas.</p>
<p>No hay límite en el número de sentencias que pueden aparecer en el cuerpo, pero debe haber al menos una. Ocasionalmente, puede resultar útil tener un cuerpo sin sentencias (normalmente como emplazamiento reservado para código que no se ha escrito aún). En ese caso, se puede usar la sentencia <code>pass</code>, que no hace nada.</p>
<p> </p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="cf">if</span> x <span class="op">&lt;</span> <span class="dv">0</span> :
    <span class="cf">pass</span>          <span class="co"># ¡necesito gestionar los valores negativos!</span></code></pre></div>
<p>Si introduces una sentencia <code>if</code> en el intérprete de Python, el prompt cambiará su aspecto habitual por puntos suspensivos, para indicar que estás en medio de un bloque de sentencias, como se muestra a continuación:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">3</span>
<span class="op">&gt;&gt;&gt;</span> <span class="cf">if</span> x <span class="op">&lt;</span> <span class="dv">10</span>:
...    <span class="bu">print</span>(<span class="st">&#39;Pequeño&#39;</span>)
...
Pequeño
<span class="op">&gt;&gt;&gt;</span></code></pre></div>
<p>Al usar el intérprete de Python, debe dejar una línea en blanco al final de un bloque, de lo contrario Python devolverá un error:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">3</span>
<span class="op">&gt;&gt;&gt;</span> <span class="cf">if</span> x <span class="op">&lt;</span> <span class="dv">10</span>:
...    <span class="bu">print</span>(<span class="st">&#39;Pequeño&#39;</span>)
... <span class="bu">print</span>(<span class="st">&#39;Hecho&#39;</span>)
  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">3</span>
    <span class="bu">print</span>(<span class="st">&#39;Hecho&#39;</span>)
        <span class="op">^</span>
<span class="pp">SyntaxError</span>: invalid syntax</code></pre></div>
<p>No es necesaria una línea en blanco al final de un bloque de instrucciones al escribir y ejecutar un script, pero puede mejorar la legibilidad de su código.</p>
<h2 id="ejecución-alternativa">Ejecución alternativa</h2>
<p>  </p>
<p>La segunda forma de la sentencia <code>if</code> es la <em>ejecución alternativa</em>, en la cual existen dos posibilidades y la condición determina cual de ellas será ejecutada. La sintaxis es similar a ésta:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="cf">if</span> x<span class="op">%</span><span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span> :
    <span class="bu">print</span>(<span class="st">&#39;x es par&#39;</span>)
<span class="cf">else</span> :
    <span class="bu">print</span>(<span class="st">&#39;x es impar&#39;</span>)</code></pre></div>
<p>Si al dividir <code>x</code> por 2 obtenemos como resto 0, entonces sabemos que <code>x</code> es par, y el programa muestra un mensaje a tal efecto. Si esa condición es falsa, se ejecuta el segundo conjunto de sentencias.</p>
<div class="figure">
<img src="../images/if-else.svg" alt="If-Then-Else Logic" />
<p class="caption">If-Then-Else Logic</p>
</div>
<p>Dado que la condición debe ser obligatoriamente verdadera o falsa, solamente una de las alternativas será ejecutada. Las alternativas reciben el nombre de <em>ramas</em>, dado que se trata de ramificaciones en el flujo de la ejecución.</p>
<p></p>
<h2 id="condicionales-encadenados">Condicionales encadenados</h2>
<p> </p>
<p>Algunas veces hay más de dos posibilidades, de modo que necesitamos más de dos ramas. Una forma de expresar una operación como ésa es usar un <em>condicional encadenado</em>:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="cf">if</span> x <span class="op">&lt;</span> y:
    <span class="bu">print</span>(<span class="st">&#39;x es menor que y&#39;</span>)
<span class="cf">elif</span> x <span class="op">&gt;</span> y:
    <span class="bu">print</span>(<span class="st">&#39;x es mayor que y&#39;</span>)
<span class="cf">else</span>:
    <span class="bu">print</span>(<span class="st">&#39;x e y son iguales&#39;</span>)</code></pre></div>
<p><code>elif</code> es una abreviatura para &quot;else if&quot;. En este caso también será ejecutada únicamente una de las ramas.</p>
<div class="figure">
<img src="../images/elif.svg" alt="If-Then-ElseIf Logic" />
<p class="caption">If-Then-ElseIf Logic</p>
</div>
<p>No hay un límite para el número de sentencias <code>elif</code>. Si hay una clausula <code>else</code>, debe ir al final, pero tampoco es obligatorio que ésta exista.</p>
<p> </p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="cf">if</span> choice <span class="op">==</span> <span class="st">&#39;a&#39;</span>:
    <span class="bu">print</span>(<span class="st">&#39;Respuesta incorrecta&#39;</span>)
<span class="cf">elif</span> choice <span class="op">==</span> <span class="st">&#39;b&#39;</span>:
    <span class="bu">print</span>(<span class="st">&#39;Respuesta correcta&#39;</span>)
<span class="cf">elif</span> choice <span class="op">==</span> <span class="st">&#39;c&#39;</span>:
    <span class="bu">print</span>(<span class="st">&#39;Casi, pero no es correcto&#39;</span>)</code></pre></div>
<p>Cada condición es comprobada en orden. Si la primera es falsa, se comprueba la siguiente y así con las demás. Si una de ellas es verdadera, se ejecuta la rama correspondiente, y la sentencia termina. Incluso si hay más de una condición que sea verdadera, sólo se ejecuta la primera que se encuentra.</p>
<h2 id="condicionales-anidados">Condicionales anidados</h2>
<p> </p>
<p>Un condicional puede también estar anidado dentro de otro. Podríamos haber escrito el ejemplo anterior de las tres ramas de este modo:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="cf">if</span> x <span class="op">==</span> y:
    <span class="bu">print</span>(<span class="st">&#39;x e y son iguales&#39;</span>)
<span class="cf">else</span>:
    <span class="cf">if</span> x <span class="op">&lt;</span> y:
        <span class="bu">print</span>(<span class="st">&#39;x es menor que y&#39;</span>)
    <span class="cf">else</span>:
        <span class="bu">print</span>(<span class="st">&#39;x es mayor que y&#39;</span>)</code></pre></div>
<p>El condicional exterior contiene dos ramas. La primera rama ejecuta una sentencia simple. La segunda contiene otra sentencia <code>if</code>, que tiene a su vez sus propias dos ramas. Esas dos ramas son ambas sentencias simples, pero podrían haber sido sentencias condicionales también.</p>
<div class="figure">
<img src="../images/nested.svg" alt="Nested If Statements" />
<p class="caption">Nested If Statements</p>
</div>
<p>A pesar de que el indentado de las sentencias hace que la estructura esté clara, los <em>condicionales anidados</em> pueden volverse difíciles de leer rápidamente. En general, es buena idea evitarlos si se puede.</p>
<p>Los operadores lógicos a menudo proporcionan un modo de simplificar las sentencias condicionales anidadas. Por ejemplo, el código siguiente puede ser reescrito usando un único condicional:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="cf">if</span> <span class="dv">0</span> <span class="op">&lt;</span> x:
    <span class="cf">if</span> x <span class="op">&lt;</span> <span class="dv">10</span>:
        <span class="bu">print</span>(<span class="st">&#39;x es un número positivo con un sólo dígito.&#39;</span>)</code></pre></div>
<p>La sentencia <code>print</code> se ejecuta solamente si se cumplen las dos condiciones anteriores, así que en realidad podemos conseguir el mismo efecto con el operador <code>and</code>:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="cf">if</span> <span class="dv">0</span> <span class="op">&lt;</span> x <span class="kw">and</span> x <span class="op">&lt;</span> <span class="dv">10</span>:
    <span class="bu">print</span>(<span class="st">&#39;x es un número positivo con un sólo dígito.&#39;</span>)</code></pre></div>
<h2 id="catch1">Captura de excepciones usando try y except</h2>
<p>Anteriormente vimos un fragmento de código donde usábamos las funciones <code>input</code> e <code>int</code> para leer y analizar un número entero introducido por el usuario. También vimos lo poco seguro que podía llegar a resultar hacer algo así:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> velocidad <span class="op">=</span> <span class="bu">input</span>(prompt)
¿Cual.... es la velocidad de vuelo de una golondrina sin carga?
¿Te refieres a una golondrina africana o a una europea?
<span class="op">&gt;&gt;&gt;</span> <span class="bu">int</span>(velocidad)
<span class="pp">ValueError</span>: invalid literal <span class="cf">for</span> <span class="bu">int</span>() <span class="cf">with</span> base <span class="dv">10</span>:
<span class="op">&gt;&gt;&gt;</span></code></pre></div>
<p>Cuando estamos trabajando con el intérprete de Python, tras el error simplemente nos aparece de nuevo el prompt, así que pensamos &quot;¡epa, me he equivocado!&quot;, y continuamos con la siguiente sentencia.</p>
<p>Sin embargo, si se escribe ese código en un script de Python y se produce el error, el script se detendrá inmediatamente, y mostrará un &quot;traceback&quot;. No ejecutará la siguiente sentencia.</p>
<p></p>
<p>He aquí un programa de ejemplo para convertir una temperatura desde grados Fahrenheit a grados Celsius:</p>
<p>  </p>
<script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/python3#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script>
<iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen>
</iframe>
<!--
ent = input('Introduzca la Temperatura Fahrenheit:')
fahr = float(ent)
cel = (fahr - 32.0) * 5.0 / 9.0
print(cel)

# Code: http://www.py4e.com/code3/fahren.py
# Or select Download from this trinket's left-hand menu
-->
<p>Si ejecutamos este código y le damos una entrada no válida, simplemente fallará con un mensaje de error bastante antipático:</p>
<pre><code>python fahren.py
Introduzca la Temperatura Fahrenheit:72
22.2222222222</code></pre>
<pre><code>python fahren.py
Introduzca la Temperatura Fahrenheit:fred
Traceback (most recent call last):
  File &quot;fahren.py&quot;, line 2, in &lt;module&gt;
    fahr = float(ent)
ValueError: invalid literal for float(): fred</code></pre>
<p>Existen estructuras de ejecución condicional dentro de Python para manejar este tipo de errores esperados e inesperados, llamadas &quot;try / except&quot;. La idea de <code>try</code> y <code>except</code> es que si se sabe que cierta secuencia de instrucciones puede generar un problema, sea posible añadir ciertas sentencias para que sean ejecutadas en caso de error. Estas sentencias extras (el bloque except) serán ignoradas si no se produce ningún error.</p>
<p>Puedes pensar en la característica <code>try</code> y <code>except</code> de Python como una &quot;póliza de seguros&quot; en una secuencia de sentencias.</p>
<p>Se puede reescribir nuestro conversor de temperaturas de esta forma:</p>
<script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/python3#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script>
<iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen>
</iframe>
<!--
ent = input('Introduzca la Temperatura Fahrenheit:')
try:
    fahr = float(ent)
    cel = (fahr - 32.0) * 5.0 / 9.0
    print(cel)
except:
    print('Por favor, introduzca un número')

# Code: http://www.py4e.com/code3/fahren2.py
# Or select Download from this trinket's left-hand menu
-->
<p>Python comienza ejecutando la secuencia de sentencias del bloque <code>try</code>. Si todo va bien, se saltará todo el bloque <code>except</code> y terminará. Si ocurre una excepción dentro del bloque <code>try</code>, Python saltará fuera de ese bloque y ejecutará la secuencia de sentencias del bloque <code>except</code>.</p>
<pre><code>python fahren2.py
Introduzca la Temperatura Fahrenheit:72
22.2222222222</code></pre>
<pre><code>python fahren2.py
Introduzca la Temperatura Fahrenheit:fred
Por favor, introduzca un número</code></pre>
<p>Gestionar una excepción con una sentencia <code>try</code> recibe el nombre de <em>capturar</em> una excepción. En este ejemplo, la clausula <code>except</code> muestra un mensaje de error. En general, capturar una excepción te da la oportunidad de corregir el problema, volverlo a intentar o, al menos, terminar el programa con elegancia.</p>
<h2 id="evaluación-en-cortocircuito-de-expresiones-lógicas">Evaluación en cortocircuito de expresiones lógicas</h2>
<p></p>
<p>Cuando Python está procesando una expresión lógica, como <code>x &gt;= 2 and (x/y) &gt; 2</code>, evalúa la expresión de izquierda a derecha. Debido a la definición de <code>and</code>, si <code>x</code> es menor de 2, la expresión <code>x &gt;= 2</code> resulta ser <code>falsa</code>, de modo que la expresión completa ya va a resultar <code>falsa</code>, independientemente de si <code>(x/y) &gt; 2</code> se evalúa como <code>verdadera</code> o <code>falsa</code>.</p>
<p>Cuando Python detecta que no se gana nada evaluando el resto de una expresión lógica, detiene su evaluación y no realiza el cálculo del resto de la expresión. Cuando la evaluación de una expresión lógica se detiene debido a que ya se conoce el valor final, eso es conocido como <em>cortocircuitar</em> la evaluación.</p>
<p> </p>
<p>A pesar de que esto pueda parecer hilar demasiado fino, el funcionamiento en cortocircuito nos descubre una ingeniosa técnica conocida como <em>patrón guardián</em>. Examina la siguiente secuencia de código en el intérprete de Python:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">6</span>
<span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> <span class="dv">2</span>
<span class="op">&gt;&gt;&gt;</span> x <span class="op">&gt;=</span> <span class="dv">2</span> <span class="kw">and</span> (x<span class="op">/</span>y) <span class="op">&gt;</span> <span class="dv">2</span>
<span class="va">True</span>
<span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">1</span>
<span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> <span class="dv">0</span>
<span class="op">&gt;&gt;&gt;</span> x <span class="op">&gt;=</span> <span class="dv">2</span> <span class="kw">and</span> (x<span class="op">/</span>y) <span class="op">&gt;</span> <span class="dv">2</span>
<span class="va">False</span>
<span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">6</span>
<span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> <span class="dv">0</span>
<span class="op">&gt;&gt;&gt;</span> x <span class="op">&gt;=</span> <span class="dv">2</span> <span class="kw">and</span> (x<span class="op">/</span>y) <span class="op">&gt;</span> <span class="dv">2</span>
Traceback (most recent call last):
  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span>
<span class="pp">ZeroDivisionError</span>: division by zero
<span class="op">&gt;&gt;&gt;</span></code></pre></div>
<p>La tercera operación ha fallado porque Python intentó evaluar <code>(x/y)</code> e <code>y</code> era cero, lo cual provoca un runtime error (error en tiempo de ejecución). Pero el segundo ejemplo <em>no</em> falló, porque la primera parte de la expresión <code>x &gt;= 2</code> fue evaluada como <code>falsa</code>, así que <code>(x/y)</code> no llegó a ejecutarse debido a la regla del <em>cortocircuito</em>, y no se produjo ningún error.</p>
<p>Es posible construir las expresiones lógicas colocando estratégicamente una evaluación como <em>guardián</em> justo antes de la evaluación que podría causar un error, como se muestra a continuación:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">1</span>
<span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> <span class="dv">0</span>
<span class="op">&gt;&gt;&gt;</span> x <span class="op">&gt;=</span> <span class="dv">2</span> <span class="kw">and</span> y <span class="op">!=</span> <span class="dv">0</span> <span class="kw">and</span> (x<span class="op">/</span>y) <span class="op">&gt;</span> <span class="dv">2</span>
<span class="va">False</span>
<span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">6</span>
<span class="op">&gt;&gt;&gt;</span> y <span class="op">=</span> <span class="dv">0</span>
<span class="op">&gt;&gt;&gt;</span> x <span class="op">&gt;=</span> <span class="dv">2</span> <span class="kw">and</span> y <span class="op">!=</span> <span class="dv">0</span> <span class="kw">and</span> (x<span class="op">/</span>y) <span class="op">&gt;</span> <span class="dv">2</span>
<span class="va">False</span>
<span class="op">&gt;&gt;&gt;</span> x <span class="op">&gt;=</span> <span class="dv">2</span> <span class="kw">and</span> (x<span class="op">/</span>y) <span class="op">&gt;</span> <span class="dv">2</span> <span class="kw">and</span> y <span class="op">!=</span> <span class="dv">0</span>
Traceback (most recent call last):
  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span>
<span class="pp">ZeroDivisionError</span>: division by zero
<span class="op">&gt;&gt;&gt;</span></code></pre></div>
<p>En la primera expresión lógica, <code>x &gt;= 2</code> es <code>falsa</code>, así que la evaluación se detiene en el <code>and</code>. En la segunda expresión lógica, <code>x &gt;= 2</code> es <code>verdadera</code>, pero <code>y != 0</code> es <code>falsa</code>, de modo que nunca se alcanza <code>(x/y)</code>.</p>
<p>En la tercera expresión lógica, el <code>y != 0</code> va <em>después</em> del cálculo de <code>(x/y)</code>, de modo que la expresión falla con un error.</p>
<p>En la segunda expresión, se dice que <code>y != 0</code> actúa como <em>guardián</em> para garantizar que sólo se ejecute <code>(x/y)</code> en el caso de que <code>y</code> no sea cero.</p>
<h2 id="depuración">Depuración</h2>
<p> </p>
<p>Los &quot;traceback&quot; que Python muestra cuando se produce un error contienen un montón de información, pero pueden resultar abrumadores. Las partes más útiles normalmente son:</p>
<ul>
<li><p>Qué tipo de error se ha producido, y</p></li>
<li><p>Dónde ha ocurrido.</p></li>
</ul>
<p>Los errores de sintaxis (syntax errors), normalmente son fáciles de localizar, pero a veces tienen trampa. Los errores debido a espacios en blanco pueden ser complicados, ya que los espacios y las tabulaciones son invisibles, y solemos ignorarlos.</p>
<p></p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="dv">5</span>
<span class="op">&gt;&gt;&gt;</span>  y <span class="op">=</span> <span class="dv">6</span>
  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>
    y <span class="op">=</span> <span class="dv">6</span>
    <span class="op">^</span>
<span class="pp">IndentationError</span>: unexpected indent</code></pre></div>
<p>En este ejemplo, el problema es que la segunda línea está indentada por un espacio. Pero el mensaje de error apunta a <code>y</code>, lo cual resulta engañoso. En general, los mensajes de error indican dónde se ha descubierto el problema, pero el error real podría estar en el código previo, a veces en alguna línea anterior.</p>
<p> </p>
<p>Ocurre lo mismo con los errores en tiempo de ejecución (runtime errors). Supón que estás tratando de calcular una relación señal-ruido en decibelios. La fórmula es <span class="math inline"><em>S</em><em>N</em><em>R</em><sub><em>d</em><em>b</em></sub> = 10log<sub>10</sub>(<em>P</em><sub><em>s</em><em>e</em><em>n</em><em>a</em><em>l</em></sub>/<em>P</em><sub><em>r</em><em>u</em><em>i</em><em>d</em><em>o</em></sub>)</span>. En Python, podrías escribir algo como esto:</p>
<script type="text/javascript">(function(d,l,s,i,c){function n(e){e=e.nextSibling;return (!e||e.nodeType!=3)?e:n(e);};function r(f){/in/.test(d.readyState) ? setTimeout(function(){r(f);},9):f()};l=d.getElementsByTagName('script');s=l[l.length-1];r(function(){i=n(s),c=n(i);i.setAttribute('data-src','https://trinket.io/tools/1.0/jekyll/embed/python3#code='+encodeURIComponent(c.nodeValue.replace(/^\s+|\s+$/g,'')));});})(document)</script>
<iframe width="100%" height="400" frameborder="0" marginwidth="0" marginheight="0" class="lazyload" allowfullscreen>
</iframe>
<!--
import math
int_senal = 9
int_ruido = 10
relacion = int_senal / int_ruido
decibelios = 10 * math.log10(relacion)
print(decibelios)

# Code: http://www.py4e.com/code3/snr.py
# Or select Download from this trinket's left-hand menu
-->
<p>Pero cuando lo haces funcionar, obtienes un mensaje de error<a href="#fn3" class="footnoteRef" id="fnref3"><sup>3</sup></a>:</p>
<p> </p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">    Traceback (most recent call last):
      File <span class="st">&quot;snr.py&quot;</span>, line <span class="dv">5</span>, <span class="kw">in</span> ?
        decibelios <span class="op">=</span> <span class="dv">10</span> <span class="op">*</span> math.log10(relacion)
    <span class="pp">OverflowError</span>: math <span class="bu">range</span> error</code></pre></div>
<p>El mensaje de error apunta a la línea 5, pero no hay nada incorrecto en ese línea. Para encontrar el error real, puede resultar útil mostrar en pantalla el valor de <code>relacion</code>, que resulta ser 0. El problema está en la línea 4, ya que al dividir dos enteros se realiza una división entera. La solución es representar la intensidad de la señal y la intensidad del ruido con valores en punto flotante.</p>
<p> </p>
<p>En general, los mensajes de error te dicen dónde se ha descubierto el problema, pero a menudo no es ahí exactamente donde se ha producido.</p>
<h2 id="glosario">Glosario</h2>
<dl>
<dt>condición</dt>
<dd><p>La expresión booleana en una sentencia condicional que determina qué rama será ejecutada.</p>
</dd>
</dl>
<p></p>
<dl>
<dt>condicional anidado</dt>
<dd><p>Una sentencia condicional que aparece en una de las ramas de otra sentencia condicional.</p>
</dd>
</dl>
<p> </p>
<dl>
<dt>condicional encadenado</dt>
<dd><p>Una sentencia condicional con una serie de ramas alternativas.</p>
</dd>
</dl>
<p> </p>
<dl>
<dt>cortocircuito</dt>
<dd><p>Cuando Python va evaluando una expresión lógica por tramos y detiene el proceso de evaluación debido a que ya conoce el valor final que va a tener el resultado sin necesidad de evaluar el resto de la expresión.</p>
</dd>
</dl>
<p></p>
<dl>
<dt>cuerpo</dt>
<dd><p>La secuencia de sentencias en el interior de una sentencia compuesta.</p>
</dd>
</dl>
<p></p>
<dl>
<dt>expresión booleana</dt>
<dd><p>Un expresión cuyo valor puede ser o bien <code>Verdadero</code> o bien <code>Falso</code>.</p>
</dd>
</dl>
<p> </p>
<dl>
<dt>operadores de comparación</dt>
<dd><p>Uno de los operadores que se utiliza para comparar dos operandos: <code>==</code>, <code>!=</code>, <code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, y <code>&lt;=</code>.</p>
</dd>
<dt>operador lógico</dt>
<dd><p>Uno de los operadores que se combinan en las expresiones booleanas: <code>and</code>, <code>or</code>, y <code>not</code>.</p>
</dd>
<dt>patrón guardián</dt>
<dd><p>Cuando construimos una expresión lógica con comparaciones adicionales para aprovecharnos del funcionamiento en cortocircuito.</p>
</dd>
</dl>
<p> </p>
<dl>
<dt>rama</dt>
<dd><p>Una de las secuencias alternativas de sentencias en una sentencia condicional.</p>
</dd>
</dl>
<p></p>
<dl>
<dt>sentencia compuesta</dt>
<dd><p>Una sentencia que consiste en un encabezado y un cuerpo. El encabezado termina con dos-puntos (:). El cuerpo está indentado con relación al encabezado.</p>
</dd>
</dl>
<p> </p>
<dl>
<dt>sentencia condicional</dt>
<dd><p>Una sentencia que controla el flujo de ejecución, dependiendo de cierta condición.</p>
</dd>
</dl>
<p> </p>
<dl>
<dt>traceback</dt>
<dd><p>Una lista de las funciones que se están ejecutando, que se muestra en pantalla cuando se produce una excepción.</p>
</dd>
</dl>
<p></p>
<h2 id="ejercicios">Ejercicios</h2>
<p>Ejercicio 1: Reescribe el programa del cálculo del salario para darle al empleado 1.5 veces la tarifa horaria para todas las horas trabajadas que excedan de 40.</p>
<pre><code>Introduzca las Horas: 45
Introduzca la Tarifa por hora: 10
Salario: 475.0</code></pre>
<p>Ejercicio 2: Reescribe el programa del salario usando <code>try</code> y <code>except</code>, de modo que el programa sea capaz de gestionar entradas no numéricas con elegancia, mostrando un mensaje y saliendo del programa. A continuación se muestran dos ejecuciones del programa:</p>
<pre><code>Introduzca las Horas: 20
Introduzca la Tarifa por hora: nueve
Error, por favor introduzca un número</code></pre>
<pre><code>Introduzca las Horas: cuarenta
Error, por favor introduzca un número</code></pre>
<p>Ejercicio 3: Escribe un programa que solicite una puntuación entre 0.0 y 1.0. Si la puntuación está fuera de ese rango, muestra un mensaje de error. Si la puntuación está entre 0.0 y 1.0, muestra la calificación usando la tabla siguiente:</p>
<pre><code>
Puntuación Calificación
&gt;= 0.9     Sobresaliente
&gt;= 0.8     Notable
&gt;= 0.7     Bien
&gt;= 0.6     Suficiente
&lt; 0.6      Insuficiente</code></pre>
<pre><code>Introduzca puntuación: 0.95
Sobresaliente</code></pre>
<pre><code>Introduzca puntuación: perfecto
Puntuación incorrecta</code></pre>
<pre><code>Introduzca puntuación: 10.0
Puntuación incorrecta</code></pre>
<pre><code>Introduzca puntuación: 0.75
Bien</code></pre>
<pre><code>Introduzca puntuación: 0.5
Insuficiente</code></pre>
<p>Ejecuta el programa repetidamente, como se muestra arriba, para probar con varios valores de entrada diferentes.</p>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>el término correcto en español sería &quot;sangradas&quot;, pero en el mundillo de la programación se suele decir que las líneas van &quot;indentadas&quot; (Nota del trad.)<a href="#fnref1">↩</a></p></li>
<li id="fn2"><p>Estudiaremos las funciones en el capítulo 4 y los bucles en el capítulo 5.<a href="#fnref2">↩</a></p></li>
<li id="fn3"><p>En Python 3.0, ya no se produce el mensaje de error; el operador de división realiza división en punto flotante incluso con operandos enteros.<a href="#fnref3">↩</a></p></li>
</ol>
</div>
        </div>
      </div>
    </div>

  </div>
  <script type="text/javascript" src="trinket/jquery.min.js"></script>
  <script type="text/javascript" src="trinket/jquery-ui.min.js"></script>
  <script type="text/javascript" src="trinket/foundation.min.js"></script>
  <script type="text/javascript" src="trinket/anchor.min.js"></script>
  <script type="text/javascript" src="trinket/lazysizes.min.js"></script>
  <script type="text/javascript" src='trinket/go.js'></script>
</body>     
 
